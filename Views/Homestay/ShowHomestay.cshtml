@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@using EXE202.Models
@using EXE202.Utils


<!doctype html>
<html lang="en">
<head>
    <title>Homestay Booking</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="icon" type="image/png" href="/images/SiteImages/OCBK_LOGO.png"/>
    <link href="https://fonts.googleapis.com/css?family=DM+Sans:300,400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="~/main_style/fonts/icomoon/style.css">

    <link rel="stylesheet" href="~/main_style/css/bootstrap.min.css">
    <link rel="stylesheet" href="~/main_style/css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="~/main_style/css/jquery.fancybox.min.css">
    <link rel="stylesheet" href="~/main_style/css/owl.carousel.min.css">
    <link rel="stylesheet" href="~/main_style/css/owl.theme.default.min.css">
    <link rel="stylesheet" href="~/main_style/fonts/flaticon/font/flaticon.css">
    <link rel="stylesheet" href="~/main_style/css/aos.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
    <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Roboto:400,500,700&amp;display=swap'><link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="css/slider-range/slider-range.css"/>
    <!-- MAIN CSS -->
    <link rel="stylesheet" href="~/main_style/css/style.css">
    <link href="~/css/site.css" rel="stylesheet"/>
</head>

<body data-spy="scroll" data-target=".site-navbar-target" data-offset="300">


<div class="site-wrap" id="home-section" style="max-height: 100vh">

<header class="site-navbar site-navbar-target" role="banner" style="background-color: #2A2D34;">
    <div class="container">
        <div class="row align-items-center position-relative">
            <div class="col-md-6 col-sm-12">
                <div class="site-logo">
                    <a href="@Url.Action("LoadHomestay", "Homestay")">
                        <img style="height: 100px; font-weight: bold" src="/images/SiteImages/OCBK_LOGO_TEXT_WHITE.png"/>
                    </a>
                </div>
            </div>

            <div class="col-md-6 col-sm-12">
                <nav class="site-navigation ml-auto d-lg-block">
                    <ul class="site-menu main-menu js-clone-nav ml-auto">
                        @if (ViewBag.name == null)
                        {
                            <li>
                                <a href="@Url.Action("Login", "Login")" class="nav-link">ĐĂNG NHẬP</a>
                            </li>
                            <li>
                                <a href="@Url.Action("SignUp", "SignUp")" class="nav-link">ĐĂNG KÝ</a>
                            </li>
                        }
                        else
                        {
                            <li>
                                <a href="@Url.Action("Profile", "Profile")" class="nav-link">Xin chào @ViewBag.name</a>
                            </li>
                            <li>
                                <a href="@Url.Action("Logout", "Login")" class="nav-link">ĐĂNG XUẤT</a>
                            </li>
                        }
                        <li>
                            <a href="@Url.Action("AboutUs", "PageInformation")" class="nav-link">VỀ CHÚNG TÔI</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>
</header>

<div class="ftco-blocks-cover-1">
    <div class="ftco-cover-1" style="background-image: url('/images/SiteImages/Tam_dao_homepage.jpg')">
        @* <div class="container">
                <div class="row align-items-center">
                <div style="padding-bottom:100px" class="col-lg-5">
                <div class="feature-car-rent-box-1">
                <h3 style="color:wheat">ƯU ĐÃI ĐẶC BIỆT </h3>
                <ul class="list-unstyled">
                <li>
                <span>Homestay</span>
                <span class="spec">Mountain Retreat</span>
                </li>
                <li>
                <span>Khách tối đa</span>
                <span class="spec">6</span>
                </li>
                <li>
                <span>Địa điểm</span>
                <span class="spec">VINHOMES OCEAN CITY S4</span>
                </li>
                <li>
                <span>Giá</span>
                <span class="spec">$ 200.0</span>
                </li>
                </ul>
                <div class="d-flex align-items-center bg-light p-3">
                <a href="" class="ml-auto btn btn-primary">Booking Now</a>
                </div>
                </div>
                </div>
                </div>
                </div> *@
    </div>
</div>
@{
    var homestays = ViewBag.getAllHomestay as List<Homestay>;
    int resultCount = homestays?.Count ?? 0;
}
<div class="site-section pt-0 pb-0 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-12">
                @* <form class="trip-form" asp-action="LoadHomestay" asp-controller="Homestay" method="get">
                    <input type="hidden" name="param" value="yes"/>
                    <div class="row align-items-center mb-4">
                        <div class="col-md-6 pl-0">
                            <h3 class="m-0 pl-2">Tìm kiếm homestay</h3>
                        </div>
                        <div class="col-md-6 text-md-right pr-4">
                            <span>Đang hiển thị @resultCount kết quả</span>
                        </div>
                    </div>
                    <div class="row mr-2 pl-2">
                        <div class="row values">
                            <h5 class="pl-3">Khoảng giá:&nbsp</h5>
                            <div><span id="first"></span>&nbsp;VND</div>&nbsp&nbsp-&nbsp&nbsp
                            <div><span id="second"></span>&nbsp;VND</div>
                            <input type="hidden" name="minPrice" id="minPriceInput" value=""></input>
                            <input type="hidden" name="maxPrice" id="maxPriceInput" value=""></input>
                        </div>
                        <div class="slider pr-2" data-value-0="#first" data-value-1="#second" data-range="#third"></div>
                    </div>
                    <div class="row pl-2">
                        <div class="form-group w-100">
                            <label for="cf-5">Số lượng khách</label>
                            <div class="row w-100">
                                <input type="number" id="cf-5" name="max_guests" placeholder="Số lượng khách" class="form-group w-100 ml-3" value="@ViewBag.maxGuests_sentback">
                            </div>
                        </div>
                    </div>
                    <div class="row justify-content-center pr-3 pl-2">
                        <div class="col-lg-6 px-0 mt-2">
                            <button style="border-radius: 0" type="submit" class="btn btn-primary w-100">Tìm kiếm</button>
                        </div>
                        <div class="col-lg-6 px-0 mt-2">
                            <a style="border-radius: 0" href="@Url.Action("LoadHomestay", "Homestay", new { param = "yes" })" id="reset-btn" class="btn btn-secondary w-100">Đặt lại</a>
                        </div>
                    </div>
                </form> *@
            </div>
        </div>
    </div>
</div>

@* <form asp-action="LoadHomestay" asp-controller="Homestay" method="get" id="sortForm"> *@
@*     <input type="hidden" name="param" value="yes" /> *@
@*     <input type="hidden" name="Host" value="@ViewBag.host_sentback" /> *@
@*     <input type="hidden" name="HomestayName" value="@ViewBag.homestayName_sentback" /> *@
@*     <input type="hidden" name="MinRentalPrice" value="@ViewBag.minRentalPrice_sentback" /> *@
@*     <input type="hidden" name="MaxRentalPrice" value="@ViewBag.maxRentalPrice_sentback" /> *@
@*     <input type="hidden" name="Description" value="@ViewBag.description_sentback" /> *@
@*     <input type="hidden" name="MaxGuests" value="@ViewBag.maxGuests_sentback" /> *@
@*     <input type="hidden" name="is_available" value="@ViewBag.isAvailable_sentback" /> *@
@*     <div style="background-color: white; padding-top: 30px; padding-right: 250px; padding-bottom: 10px;"> *@
@*         <div style="display: flex; justify-content: flex-end; align-items: baseline;"> *@
@*             <label for="cf-10" style="margin-right: 10px; font-size: small;">Sort By: </label> *@
@*             <select id="cf-10" name="sortBy" class="form-control form-control-sm" style="width: 130px; height: 30px; font-size: small;" onchange="submitForm()"> *@
@*                 @if (ViewBag.sortBy_sentback == "HomestayName") *@
@*                 { *@
@*                     <option value="HomestayName" selected>Name</option> *@
@*                     <option value="Price">Price</option> *@
@*                 } *@
@*                 else if (ViewBag.sortBy_sentback == "Price") *@
@*                 { *@
@*                     <option value="HomestayName">Name</option> *@
@*                     <option value="Price" selected>Price</option> *@
@*                 } *@
@*                 else *@
@*                 { *@
@*                     <option value="Homestay Name" selected>Name</option> *@
@*                     <option value="Price">Price</option> *@
@*                 } *@
@*             </select> *@
@* *@
@*             <label for="cf-11" style="margin-left: 10px; margin-right: 10px; font-size: small;">Order By: </label> *@
@*             <select id="cf-11" name="orderBy" class="form-control form-control-sm" style="width: 130px; height: 30px; font-size: small;" onchange="submitForm()"> *@
@*                 @if (ViewBag.orderBy_sentback == "Ascending") *@
@*                 { *@
@*                     <option value="Ascending" selected>Ascending</option> *@
@*                     <option value="Descending">Descending</option> *@
@*                 } *@
@*                 else if (ViewBag.orderBy_sentback == "Descending") *@
@*                 { *@
@*                     <option value="Ascending">Ascending</option> *@
@*                     <option value="Descending" selected>Descending</option> *@
@*                 } *@
@*                 else *@
@*                 { *@
@*                     <option value="Ascending" selected>Ascending</option> *@
@*                     <option value="Descending">Descending</option> *@
@*                 } *@
@*             </select> *@
@*         </div> *@
@*     </div> *@
@* </form> *@

<script>
            function submitForm() {
                document.getElementById('sortForm').submit();
            }
        </script>

<style>
            .site-section {
                padding: 0;
            }
        </style>

<script>
            setTimeout(function () {
                var paramValue = '@ViewBag.param';

                if (paramValue === 'yes') {
                    window.scrollTo({
                        top: 500,
                        behavior: 'smooth'
                    });
                }
            }, 300);
        </script>

<div class="site-section bg-light">
    <div class="container">
        <div class="row p-2">
        </div>
        <div id="icebear" class="row">
            @foreach (Homestay homestay in ViewBag.getAllHomestay)
            {
                <div class="col-lg-4 col-md-6 mb-3 mt-3">
                    <div class="item-1">
                        <a href="@Url.Action("ViewDetail", "Homestay", new { homestay_id = homestay.HomestayId })">
                            @{
                                var images = ViewBag.homestayImages as List<ImageHomestay>;
                                if (images != null && images.Where(x => x.HomestayId == homestay.HomestayId) != null)
                                {
                                    var thisHomestayImage = images.Where(x => x.HomestayId == homestay.HomestayId).First();
                                    <div class="fixed-frame">
                                        <img src="@thisHomestayImage.Image1" alt="@homestay.Name" class="img-fluid">
                                    </div>
                                }
                                else
                                {
                                    <div class="fixed-frame">
                                        <img src="" alt="@homestay.Name" class="img-fluid">
                                    </div>
                                }
                            }
                        </a>
                        <div class="item-1-contents">
                            <div class="text-center">
                                <h3>
                                    <a href="@Url.Action("ViewDetail", "Homestay", new { homestay_id = homestay.HomestayId })">@homestay.Name</a>
                                </h3>
                                <div class="rating">
                                    <span class="icon-star text-warning"></span>
                                    <span class="icon-star text-warning"></span>
                                    <span class="icon-star text-warning"></span>
                                    <span class="icon-star text-warning"></span>
                                    <span class="icon-star text-warning"></span>
                                </div>
                                <div class="rent-price"><span>@CurrencyHelper.GetFormatedCurrency(@homestay.PricePerNight.ToString()) VNĐ/</span>ngày</div>
                            </div>
                            <ul class="specs">
                                <li>
                                    <span>Khách tối đa</span>
                                    <span class="spec">@homestay.MaxGuests</span>
                                </li>

                                <li>
                                    <span>Trạng thái</span>
                                    @if (homestay.Status == false)
                                    {
                                        <span class="spec">Không sẵn có</span>
                                    }
                                    else
                                    {
                                        <span class="spec">Sẵn có</span>
                                    }

                                </li>
                            </ul>
                            <div class="d-flex action">
                                <a href="@Url.Action("ViewDetail", "Homestay", new { homestay_id = homestay.HomestayId })" class="btn btn-outline-success"><i class="fas fa-eye"></i> CHI TIẾT </a>
                                @if (homestay.Status == true)
                                {
                                    <a href="@Url.Action("ViewDetail", "Homestay", new { homestay_id = homestay.HomestayId, tab = "pills-rental" })" class="btn btn-outline-primary"><i class="fas fa-key"></i> ĐẶT NGAY</a>
                                }
                                else
                                {
                                            <a href="#" class="btn btn-primary disabled" tabindex="-1" aria-disabled="true">
                                        <i class="fas fa-key"></i> ĐẶT NGAY
                                    </a>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
        <!--  <div class="col-12">
            <span class="p-3">1</span>
            <a href="#" class="p-3">2</a>
            <a href="#" class="p-3">3</a>
            <a href="#" class="p-3">4</a>
        </div>
        -->
    </div>
</div>

<style>
            .fixed-frame {
                width: 100%; /* Ensure the frame takes full width of its container */
                height: 200px; /* Set your desired height */
                overflow: hidden;
                position: relative;
            }

            .d-flex.action {
                display: flex;
                justify-content: space-between; /* Distribute space between items */
            }

                .d-flex.action a {
                    flex: 1; /* Make the buttons take equal width */
                    margin: 0 5px; /* Add margin to create space around the buttons */
                }

            .fixed-frame img {
                max-width: 100%; /* Ensure the image width does not exceed the frame width */
                height: auto; /* Maintain aspect ratio */
                object-fit: cover; /* Ensures the image covers the frame without distortion */
                position: absolute;
                top: 0;
                left: 0;
            }

            .btn-primary.disabled, .btn-primary:disabled {
                color: #fff;
                background-color: #808080;
                border-color: #ccc;
            }

            .btn-secondary {
                background-color: gray;
                border-color: gray;
                color: white;
            }

                .btn-secondary:hover {
                    background-color: darkgray;
                    border-color: darkgray;
                }

        </style>


<div class="container site-section mb-5 mt-5">
    <div class="row justify-content-center text-center">
        <div class="col-7 text-center mb-5">
            <h2>QUY TRÌNH ĐẶT PHÒNG</h2>
            <p>Trải nghiệm đặt phòng dễ dàng, thuận tiện cùng TamDaoStay</p>
        </div>
    </div>
    <div class="how-it-works d-flex">
        <div class="step">
            <span class="number">
                <span>01</span>
            </span>
            <span class="caption">Xem thông tin phòng</span>
        </div>
        <div class="step">
            <span class="number">
                <span>02</span>
            </span>
            <span class="caption">Đặt phòng</span>
        </div>
        <div class="step">
            <span class="number">
                <span>03</span>
            </span>
            <span class="caption">Thanh toán</span>
        </div>
        <div class="step">
            <span class="number">
                <span>04</span>
            </span>
            <span class="caption">Chờ xác nhận</span>
        </div>
        <div class="step">
            <span class="number">
                <span>05</span>
            </span>
            <span class="caption">Hoàn thành</span>
        </div>
    </div>
</div>

        <style>
            .fab {
                position: fixed; /* Đảm bảo nút luôn ở cùng một vị trí trên màn hình */
                bottom: 40px; /* Cách cạnh dưới của màn hình 20px */
                right: 40px; /* Cách cạnh phải của màn hình 20px */
            }

            .fab-button {
                display: inline-block;
                width: 60px;
                height: 60px;
                color: white;
                font-size: 24px;
                line-height: 60px;
                text-align: center;
                border-radius: 50%;
                text-decoration: none;
                box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.2);
                transition: background-color 0.3s ease;
                display: inline-block;
                position: relative;
                animation: ring 1.5s infinite;
            }

                .fab-button:hover {
                    background-color: #e57373; /* Màu sáng hơn khi di chuột */
                }

            @@keyframes ring {
                0% {
                    transform: rotate(0deg);
                }

                10% {
                    transform: rotate(15deg);
                }

                20% {
                    transform: rotate(-10deg);
                }

                30% {
                    transform: rotate(5deg);
                }

                40% {
                    transform: rotate(-5deg);
                }

                50% {
                    transform: rotate(0deg);
                }

                100% {
                    transform: rotate(0deg);
                }
            }

        </style>

        <div class="fab">
            <div class="row">
                <a href="tel:0862839699" target="_blank" class="fab-button">
                    <img style="max-height: 100%" src="https://cdn-icons-png.flaticon.com/512/6815/6815116.png" />
                </a>
            </div>
            <div class="row mt-3">
                <a href="https://zalo.me/0862839699" target="_blank" class="fab-button">
                    <img style="max-height: 100%" src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Icon_of_Zalo.svg/768px-Icon_of_Zalo.svg.png" />
                </a>
            </div>
            <div class="row mt-3">
                <a href="https://m.me/" target="_blank" class="fab-button">
                    <img style="max-height: 100%" src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/be/Facebook_Messenger_logo_2020.svg/768px-Facebook_Messenger_logo_2020.svg.png" />
                </a>
            </div>
        </div>


<footer class="site-footer" style="background-color: #2A2D34">
    <div class="container">
        <div class="row">
            <div class="col-lg-3 col-sm-12 mt-4">
                <h2 class="footer-heading mb-4">VỀ CHÚNG TÔI</h2>
                <p class="text-justify">TamDaoStay là nền tảng trung gian giúp cho việc đặt homestay tại Tam Đảo, Vĩnh Phúc của bạn trở nên dễ dàng, thuận tiện hơn.</p>
            </div>
            <div class="col-lg-2 col-sm-12 mt-4"></div>
            <div class="col-lg-7 ml-auto col-sm-12">
                <div class="row">
                    <div class="col-lg-6 col-sm-12 mt-4">
                        <h2 class="footer-heading mb-4">LIÊN KẾT XÃ HỘI</h2>
                        <ul class="list-unstyled">
                            <li>
                                <a style="color: whitesmoke" href="https://www.facebook.com/profile.php?id=61565969259252" target="_blank"><i class="fa-brands fa-facebook-f"></i> Facebook</a>
                            </li>
                            <li>
                                <a style="color: whitesmoke" href="mailto:TamDaoStay01@gmail.com"><i class="fa-regular fa-envelope"></i> TamDaoStay01@gmail.com</a>
                            </li>
                                    <li>
                                        <a style="color: whitesmoke" href="tel:0862839699"><i class="fa-solid fa-phone"></i> 0968047703</a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-lg-6 col-sm-12 mt-4">
                        <h2 class="footer-heading mb-4">THOẢ THUẬN NGƯỜI DÙNG</h2>
                        <ul class="list-unstyled">
                            <li><a style="color: whitesmoke" href="@Url.Action("TermsOfUse", "PageInformation")">Điều khoản dịch vụ</a></li>
                            <li><a style="color: whitesmoke" href="@Url.Action("PrivacyPolicy", "PageInformation")">Quyền riêng tư và bảo mật</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>
</div>

<script src="js/jquery-3.3.1.min.js"></script>
<script src="js/popper.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/owl.carousel.min.js"></script>
<script src="js/jquery.sticky.js"></script>
<script src="js/jquery.waypoints.min.js"></script>
<script src="js/jquery.animateNumber.min.js"></script>
<script src="js/jquery.fancybox.min.js"></script>
<script src="js/jquery.easing.1.3.js"></script>
<script src="js/bootstrap-datepicker.min.js"></script>
<script src="js/aos.js"></script>
<script src="~/lib/microsoft/signalr/dist/browser/signalr.js"></script>
<script src="~/js/hihi.js"></script>
<script src="js/main.js"></script>

<script src='https://code.jquery.com/jquery-3.4.1.min.js'></script>
<script src='https://code.jquery.com/ui/1.12.0/jquery-ui.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js'></script>
<script src="./js/slider-range/slider-range.js"></script>
</body>
</html>